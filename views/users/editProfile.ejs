
<%- include('../layouts/header.ejs') %>
		<!--start page wrapper -->
		<div class="page-wrapper">
			<div class="page-content">
				<!--start breadcrumb-->
				<section class="py-3 border-bottom border-top d-none d-md-flex bg-light">
					<div class="container">
						<div class="page-breadcrumb d-flex align-items-center">
							<h3 class="breadcrumb-title pe-3">My Orders</h3>
							<div class="ms-auto">
								<nav aria-label="breadcrumb">
									<ol class="breadcrumb mb-0 p-0">
										<li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i> Home</a>
										</li>
										<li class="breadcrumb-item"><a href="javascript:;">Account</a>
										</li>
										<li class="breadcrumb-item active" aria-current="page">My Orders</li>
									</ol>
								</nav>
							</div>
						</div>
					</div>
				</section>
				<!--end breadcrumb-->
				<!--start shop cart-->
				<section class="py-4">
					<div class="container">
						<h3 class="d-none">Account</h3>
						<div class="card">
							<div class="card-body">
								<div class="row">
									<div class="col-lg-4">
										<div class="card shadow-none mb-3 mb-lg-0 border">
											<div class="card-body">
												<div class="list-group list-group-flush">	<a href="account-dashboard.html" class="list-group-item active d-flex justify-content-between align-items-center ">Profile <i class='bx bx-tachometer fs-5'></i></a>
													<a href="account-orders.html" class="list-group-item d-flex justify-content-between align-items-center bg-transparent">Orders <i class='bx bx-cart-alt fs-5'></i></a>
													<a href="account-downloads.html" class="list-group-item d-flex justify-content-between align-items-center bg-transparent">Downloads <i class='bx bx-download fs-5'></i></a>
													<a href="account-addresses.html" class="list-group-item d-flex justify-content-between align-items-center bg-transparent">Addresses <i class='bx bx-home-smile fs-5'></i></a>
													<a href="account-payment-methods.html" class="list-group-item d-flex justify-content-between align-items-center bg-transparent">Payment Methods <i class='bx bx-credit-card fs-5'></i></a>
													<a href="account-user-details.html" class="list-group-item  d-flex justify-content-between align-items-center">Account Details <i class='bx bx-user-circle fs-5'></i></a>
													<a href="#" class="list-group-item d-flex justify-content-between align-items-center bg-transparent">Logout <i class='bx bx-log-out fs-5'></i></a>
												</div>
											</div>
										</div>
									</div>
									<div class="col-lg-8">
										<div class="card shadow-none mb-0 border">
											<div class="card-body">
												<form class="row g-3" action="/update-profile/<%= user._id %>" method="post" onsubmit="return validateForm()">
													<div class="col-md-6">
														<label class="form-label">First Name</label>
														<input type="text" class="form-control" name="fname" id="fname" value="<%= user.firstName %>" required>
														<div id="fname-error" class="error-message"></div>
													</div>
													<div class="col-md-6">
														<label class="form-label">Last Name</label>
														<input type="text" class="form-control" name="lname" id="lname" value="<%= user.lastName %>" required>
														<div id="lname-error" class="error-message"></div>
													</div>
													<div class="col-12">
														<label class="form-label">Email address</label>
														<input type="email" class="form-control" name="email" id="email" value="<%= user.email %>" required>
														<div id="email-error" class="error-message"></div>
													</div>
													<div class="col-12">
														<label for="inputCountry" class="form-label">Country</label>
														<input type="text" class="form-control" id="inputCountry" name="country" value="<%= user.country %>" placeholder="Enter Country" required>
														<div id="country-error" class="error-message"></div>
													</div>
													<div class="col-12">
														<button type="submit" class="btn btn-dark btn-ecomm">Save Changes</button>
													</div>
												</form>
												
												
												
												
											</div>
										</div>
									</div>
								</div>
								<!--end row-->
							</div>
						</div>
					</div>
				</section>
				<!--end shop cart-->
			</div>
		</div>
		<!--end page wrapper -->

		<script>
			function validateForm() {
				// Get form inputs
				var fname = document.getElementById("fname").value.trim();
				var lname = document.getElementById("lname").value.trim();
				var email = document.getElementById("email").value.trim();
				var country = document.getElementById("inputCountry").value.trim();
		
				// Regular expression for letters only
				var lettersPattern = /^[A-Za-z]+$/;
		
				// Regular expression for email validation
				var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
		
				// Regular expression to check if the country contains only letters
				var countryPattern = /^[A-Za-z]+$/;
		
				// Validation flag
				var isValid = true;
		
				// Clear previous error messages
				document.getElementById("fname-error").innerHTML = "";
				document.getElementById("lname-error").innerHTML = "";
				document.getElementById("email-error").innerHTML = "";
				document.getElementById("country-error").innerHTML = "";
		
				// Validate First Name
				if (fname === "") {
					document.getElementById("fname-error").innerHTML = "First name is required";
					isValid = false;
				} else if (!lettersPattern.test(fname)) {
					document.getElementById("fname-error").innerHTML = "First name must contain only letters";
					isValid = false;
				}
		
				// Validate Last Name
				if (lname === "") {
					document.getElementById("lname-error").innerHTML = "Last name is required";
					isValid = false;
				} else if (!lettersPattern.test(lname)) {
					document.getElementById("lname-error").innerHTML = "Last name must contain only letters";
					isValid = false;
				}
		
				// Validate Email
				if (email === "") {
					document.getElementById("email-error").innerHTML = "Email is required";
					isValid = false;
				} else if (!emailPattern.test(email)) {
					document.getElementById("email-error").innerHTML = "Invalid email address";
					isValid = false;
				}
		
				// Validate Country
				if (country === "") {
					document.getElementById("country-error").innerHTML = "Country is required";
					isValid = false;
				} else if (!countryPattern.test(country)) {
					document.getElementById("country-error").innerHTML = "Country must contain only letters";
					isValid = false;
				}
		
				return isValid;
			}
		</script>
		
		<%- include('../layouts/footer.ejs') %>